CREATE DEFINER=`root`@`localhost` PROCEDURE `PreAccountDetails`(AccountMasterId_ int)
BEGIN


select *, if((@balance:=@balance+bal)>0,concat(round(@balance,2),' Cr'),concat( round(@balance*-1,2),' Dr')) as Balance from vwaccountdetails join (Select @balance:=0) x where AccountMasterId=AccountMasterId_;
END


CREATE DEFINER=`root`@`localhost` PROCEDURE `PreItemdetails`(ItemMasterId_ int)
BEGIN

select * ,@balance:=@balance+Stock  as StockQty from vwitemdetails join (Select @balance:=0) x  where ItemMasterId=ItemMasterId_;


END
